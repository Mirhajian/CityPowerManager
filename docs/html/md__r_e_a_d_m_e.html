<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>City Power Manager: City Power Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">City Power Manager
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">City Power Manager</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="city-power-manager"></a></p>
<h1><a class="anchor" id="موارد-مهم"></a>
موارد مهم</h1>
<ul>
<li>فایل uml و شماتیک پروژه در مسیر زیر قرار دارند</li>
</ul>
<div class="fragment"><div class="line">./docs/html/index.html این فایل را ران کنید تا پروژه را بهتر درک کنید</div>
</div><!-- fragment --> <h1><a class="anchor" id="معرفی"></a>
معرفی</h1>
<ul>
<li>این پروژه برای پایان ترم درس برنامه نویسی پیشرفته دانشگاه صنعتی بیرجند است</li>
</ul>
<h1><a class="anchor" id="قابلیت-ها"></a>
قابلیت ها</h1>
<ul>
<li><b>1. Submit New <a class="el" href="class_subscriber.html">Subscriber</a>:</b> اضافه کردن مشترک جدید</li>
<li><b>2. Display Subscribers:</b> نمایش مشترکین برق</li>
<li><b>3. Edit <a class="el" href="class_subscriber.html">Subscriber</a>:</b> ویرایش مشترکین برق</li>
<li><b>4. Submit New Tariffs:</b> ایجاد یک لیست تعرفه جدید</li>
<li><b>5. Display Tariffs:</b> نمایش تعرفه ها</li>
<li><b>6. Edit Tariffs:</b> ویرایش تعرفه ها</li>
<li><b>7. Billing Issuance:</b> ایجاد قبض و صدور صورت حساب یک ماهه</li>
</ul>
<div class="fragment"></div><!-- fragment --><p> فایل های سورس و هدر این پروژه در دو پوشه زیر قرار دارند ‍‍‍ </p><div class="fragment"><div class="line">./src : source files</div>
<div class="line">./include : .hpp header files</div>
</div><!-- fragment --><p> فایل های دیتابیس در این مسیر هستند ‍‍‍ </p><div class="fragment"><div class="line">./data/tariffs.csv: تعرفه ها</div>
<div class="line">./data/residential_subscribers.csv: دیتابیس مشترکین خانگی</div>
<div class="line">./data/commercial_subscribers.csv: دیتابیس مشترکین تجاری</div>
<div class="line">./data/industrial_subscribers.csv: دیتابیس مشترکین صنعتی</div>
</div><!-- fragment --><p> شمایل کلی پروژه</p>
<div class="fragment"><div class="line">.</div>
<div class="line">├── CMakeLists.txt</div>
<div class="line">├── README.md</div>
<div class="line">├── bin</div>
<div class="line">├── build  # فایل اجرایی به صورت پیشرفض درون این پوشه است</div>
<div class="line">├── data  # مسیر دیتابیس ها</div>
<div class="line">│   ├── commercial_subscribers.csv  # دیتابیس تجاری</div>
<div class="line">│   ├── industrial_subscribers.csv  # دیتابیس صنعتی</div>
<div class="line">│   ├── residential_subscribers.csv  # دیتابیس خانگی</div>
<div class="line">│   └── tariffs.csv  # دیتابیس تعرفه ها</div>
<div class="line">├── docs</div>
<div class="line">│   ├── html</div>
<div class="line">│   │   └── index.html  # فایل شماتیک و نمودار زبان مدلسازی (یو ام ال)</div>
<div class="line">│   │</div>
<div class="line">│   └── latex</div>
<div class="line">├── include  # مسیر فایل های هدر</div>
<div class="line">│   ├── core  # مسیر فایل های هسته ای نرم افزار</div>
<div class="line">│   │   ├── app.hpp  # هسته نرم افزار</div>
<div class="line">│   │   └── billing_system.hpp  # فایل محاسبه قبض</div>
<div class="line">│   ├── models  # مسیر ساختمان داده و کلاس ها</div>
<div class="line">│   │   ├── commercial_subscriber.hpp  # ساختار کلاس مشترکین تجاری</div>
<div class="line">│   │   ├── industrial_subscriber.hpp  # ساختار کلاس مشترکین صنعتی</div>
<div class="line">│   │   ├── residential_subscriber.hpp  # ساختار کلاس مشترکین خانگی</div>
<div class="line">│   │   ├── subscriber.hpp  # سختار کلاس مشترکین</div>
<div class="line">│   │   └── tariff.hpp  # ساختار کلاس تعرفه ها</div>
<div class="line">│   └── utils  # ابزار های کاربردی</div>
<div class="line">│       ├── ascii_art.hpp  # زیبا سازی ترمینال</div>
<div class="line">│       └── file_io.hpp  # برای هندل فایل های خارجی مانند دیتابیس ها</div>
<div class="line">└── src  # مسیر فایل های سورس</div>
<div class="line">    ├── core</div>
<div class="line">    │   ├── app.cpp</div>
<div class="line">    │   └── billing_system.cpp</div>
<div class="line">    ├── main.cpp  # مین نرم افزار</div>
<div class="line">    ├── models</div>
<div class="line">    │   ├── commercial_subscriber.cpp</div>
<div class="line">    │   ├── industrial_subscriber.cpp</div>
<div class="line">    │   ├── residential_subscriber.cpp</div>
<div class="line">    │   ├── subscriber.cpp</div>
<div class="line">    │   └── tariff.cpp</div>
<div class="line">    └── utils</div>
<div class="line">        └── file_io.cpp</div>
</div><!-- fragment --><h1><a class="anchor" id="نحوه-محاسبه-قبض-ها"></a>
نحوه محاسبه قبض ها</h1>
<p>انجام محاسبات قبض ها و دوره ها را این فایل انجام میدهد: </p><div class="fragment"><div class="line">./src/core/billing_system</div>
</div><!-- fragment --><p> الگوریتم کلی:</p><ul>
<li>هر روز به چهار بخش تقسیم میشود (هر بخش ۶ ساعت)</li>
<li>گذر این بخش ها بر عهده یک حلقه با تعداد تکرار ۴ مرتبه است<ul>
<li>مرتبه اول از ساعت ۱۲ بامداد تا ۶ صبح در نظر گرفته شده است و این ساعات میان باری در نظر گرفته شده اند که ضریب آن ها ۱ میباشد</li>
<li>ساعات بعدی از ۶ صبح تا ۱۲ ظهر هستند که کم باری در نظر گرفته شده اند و ضریب آن ها ۰.۵ است</li>
<li>ساعات ۱۲ ظهر تا ۱۸ بعد از ظهر نیز ساعات پر باری در نظر گرفته شده اند</li>
<li>ساعات ۱۸ تا ۱۲ بامداد هم میان باری با ضریب ۱ لحاظ شده اند</li>
</ul>
</li>
<li>یک متد رندم سازی یک عدد رندم بین ۱ و ۰ ایجاد میکند، این برای ایجاد یک مصرف کاملا رندم برای یک مشترک است تا طبیعی تر باشد</li>
<li>این عدد در ۶ ضرب شده تا دوباره تبدیل به ساعت عادی شود و سپس در ضریب باری آن ساعت ضرب میشود</li>
<li>تمام این پروسه ها داخل یک حلقه بالا تر با تعداد ۳۰ قرار دارند تا مصرف ۳۰ روز را شبیه سازی کنند</li>
<li>سپس میزان مصرف با لیست تعرفه ها مقایسه شده و در ضریب پلکانی آن ضرب میشود و مبلغ بدست می آید</li>
<li>همین پروسه تا حدودی برای مشترکین صنعتی صادق است اما چون تعرفه پلکانی ندارند قیمت کل در مبلغ ساعت باری که در آن قرار دارند ضرب میشود</li>
</ul>
<h1><a class="anchor" id="واژگان"></a>
واژگان</h1>
<p>معادل واژه های انگلیسی استفاده شده برای درک بهتر پروژه: </p><div class="fragment"><div class="line">01. tariff : تعرفه</div>
<div class="line">02. subscriber : مشترک</div>
<div class="line">03. residential : خانگی</div>
<div class="line">04. commercial : تجاری</div>
<div class="line">05. industrial : صنعتی</div>
<div class="line">06. billing system : سیستم تولید قبض و دوره حساب</div>
<div class="line"> </div>
<div class="line">:: واژگان استفاده شده در دیتابیس ::</div>
<div class="line">07. meter number : شماره کنتور</div>
<div class="line">08. installation date :‌ تاریخ نصب</div>
<div class="line">09. meter capacity : ظرفیت کنتور</div>
<div class="line">10. business licence : پروانه تجاری</div>
<div class="line">11. unit name : نام واحد</div>
<div class="line">12. supply voltage : ولتاژ تغذیه</div>
<div class="line">13. connection type : نوع انشعاب</div>
<div class="line">14. meter multiplier : ضریب کنتور</div>
<div class="line">15. transformer ratio : ضریب ترانس</div>
<div class="line">16. debt : بدهی ، مربوط به بدهی قبض</div>
<div class="line">17. type : نوع، منظور از نوع تعرفه(مسکونی یا تجاری یا صنعتی)</div>
<div class="line">18. tier : پلکان یا رتبه</div>
<div class="line">19. price : قیمت</div>
<div class="line">20. light_pressure : کم باری</div>
<div class="line">21. medium_pressure : میان باری</div>
<div class="line">22. peak_pressure : پر باری</div>
<div class="line">23. weekend_peak_pressure : باری باری آخر هفته</div>
<div class="line">24. reactive_power : نیروی راکتیو</div>
<div class="line"> </div>
<div class="line">:: واژگان استفاده شده در سایر بخش های برنامه ::</div>
<div class="line">25. period : بخش، منظور از یکی از بخش های چهارگانه روز که بالاتر اشاره شد</div>
<div class="line">26. depricated : منسوخ شده، برخی متد های داخل کد کامنت گذاری شده اند و مربوط به ورژن قدیمی تر برنامه هستند</div>
</div><!-- fragment --><h1><a class="anchor" id="نحوه-کامپایل-گیری"></a>
نحوه کامپایل گیری</h1>
<ul>
<li>با اینکه از پیش این پروژه کامپایل گرفته شده و فایل اجرایی ویندوز آن موجود است، در صورت تمایل میتوانید از این روش استفاده کنید: </li>
</ul>
<h2><a class="anchor" id="پیش-نیاز-ها"></a>
پیش نیاز ها</h2>
<ul>
<li>C++ compiler (e.g., g++, clang++)</li>
<li>CMake (از سایت رسمی دانلود کنید)</li>
</ul>
<h2><a class="anchor" id="ساختن-فایل-اجرایی"></a>
ساختن فایل اجرایی</h2>
<ol type="1">
<li>دانلود پروژه: <div class="fragment"><div class="line">git clone https://github.com/Mirhajian/CityPowerManager.git</div>
<div class="line">cd CityPowerManager</div>
</div><!-- fragment --></li>
<li><p class="startli">وارد پوشه build شوید:</p>
<div class="fragment"><div class="line">cd build</div>
</div><!-- fragment --></li>
<li><p class="startli">با استفاده از cmake فایل های سازنده را درست کنید</p>
<div class="fragment"><div class="line">cmake ..</div>
</div><!-- fragment --></li>
<li><p class="startli">پروژه را کامپایل بگیرید</p>
<div class="fragment"><div class="line">cmake --build .</div>
</div><!-- fragment --> </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
